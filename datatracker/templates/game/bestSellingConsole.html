{% extends 'base.html' %}

{% block header %}
<h1 style="text-align: center">{% block title %} {{ page_title }} {% endblock %}</h1>
{% endblock %}
{% block content %}

<div>
  <p>
    <strong>{{ message }}</strong>
  </p>

</div>
<div class="container">
  <canvas id="myChart"></canvas>
</div>

<script>
const labels = [
  '{{display_list[0][1]}}',
  '{{display_list[1][1]}}',
  '{{display_list[2][1]}}',
  '{{display_list[3][1]}}',
  '{{display_list[4][1]}}'
];
const data = {
  labels: labels,
  datasets: [{
    label: 'Platform Copies Sold',
    backgroundColor: 'rgb(255, 99, 132)',
    borderColor: 'rgb(255, 99, 132)',
    data: [{{display_list[0][0]}}, {{display_list[1][0]}}, {{display_list[2][0]}}, {{display_list[3][0]}}, {{display_list[4][0]}}],
  }]
};
const config = {
  type: 'bar',
  data,
  options: {}
};
  // === include 'setup' then 'config' above ===

  var myChart = new Chart(
    document.getElementById('myChart'),
    config
  );
</script>
{% endblock %}
